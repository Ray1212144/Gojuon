[gd_scene load_steps=11 format=4 uid="uid://o55eh0r742kd"]

[ext_resource type="Script" uid="uid://bmiy26g2nt7e" path="res://script/player.gd" id="1_0ha60"]
[ext_resource type="Script" uid="uid://bx04uuyksavrn" path="res://scene/main.gd" id="1_4j5ol"]
[ext_resource type="Texture2D" uid="uid://b50sekkr7evd" path="res://asset/Sprite/icon.svg" id="2_4j5ol"]
[ext_resource type="TileSet" uid="uid://cj1vvag8n1wbe" path="res://scene/bricks.tres" id="3_p1hux"]
[ext_resource type="PackedScene" uid="uid://dl13gwq18wsw7" path="res://scene/explode_area.tscn" id="4_of57s"]
[ext_resource type="PackedScene" uid="uid://dv77holfwabvd" path="res://scene/check_area.tscn" id="5_b5f6u"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_foyw7"]
size = Vector2(63, 63)

[sub_resource type="Animation" id="Animation_p1hux"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/ColorRect:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 0)]
}

[sub_resource type="Animation" id="Animation_4j5ol"]
resource_name = "black_out"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CanvasLayer/ColorRect:color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1), Color(0, 0, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_p1hux"]
_data = {
&"RESET": SubResource("Animation_p1hux"),
&"black_out": SubResource("Animation_4j5ol")
}

[node name="Main" type="Node2D" node_paths=PackedStringArray("canvas_animation_player")]
script = ExtResource("1_4j5ol")
canvas_animation_player = NodePath("CanvasLayer/CanvasAnimationPlayer")

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
script = ExtResource("1_0ha60")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
position = Vector2(-0.5, -0.5)
shape = SubResource("RectangleShape2D_foyw7")

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D"]
scale = Vector2(0.5, 0.5)
texture = ExtResource("2_4j5ol")

[node name="Camera2D" type="Camera2D" parent="CharacterBody2D"]
zoom = Vector2(2, 2)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
position = Vector2(68, -14)
tile_map_data = PackedByteArray("AAAAAP3/AAAAAAAABgACAPT/AAAAAAAAAQACAPf/AAAAAAAAAQACAPr/AAAAAAAAAQACAAAAAAAAAAAAAQAEAAAAAAAAAAAAAQAEAP3/AAAAAAAAAQAEAPr/AAAAAAAAAQAEAPf/AAAAAAAAAQAEAPT/AAAAAAAAAQAAAPT/AQAAAAAAAQAAAPf/AQAAAAAAAQAAAPr/AQAAAAAAAQAAAAAAAQAAAAAAAQACAP3/AQAAAAAAAQAGAPT/AAAAAAAAAQAGAPf/AAAAAAAAAQAGAPr/AAAAAAAAAQAGAP3/AAAAAAAAAQAGAAAAAAAAAAAAAQAIAAAAAQAAAAAAAQAIAP3/AAAAAAAAAQAIAPr/AAAAAAAAAQAIAPf/AAAAAAAAAQAIAPT/AAAAAAAAAQAKAPT/AAAAAAAAAQAKAPf/AAAAAAAAAQAKAPr/AAAAAAAAAQAKAP3/AAAAAAAAAQAKAAAAAAAAAAAAAQAMAAAAAAAAAAAAAQAMAPr/AAAAAAAAAQAMAP3/AQAAAAAAAQAMAPf/AQAAAAAAAQAMAPT/AQAAAAAAAQAOAPT/AAAAAAAAAQAOAPf/AAAAAAAAAQAOAPr/AAAAAAAAAQAOAP3/AQAAAAAAAQAOAAAAAAAAAAAAAQA=")
tile_set = ExtResource("3_p1hux")

[node name="Area" type="Node2D" parent="."]

[node name="ExplodeArea" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(125, -15)
scale_x = 4

[node name="CheckArea" parent="Area/ExplodeArea" instance=ExtResource("5_b5f6u")]
position = Vector2(-49, 2)

[node name="ExplodeArea2" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(255, -15)
scale_x = 4

[node name="CheckArea" parent="Area/ExplodeArea2" instance=ExtResource("5_b5f6u")]
position = Vector2(-49, 2)
target_kana_selection = 2

[node name="ExplodeArea3" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(281, -207)

[node name="CheckArea" parent="Area/ExplodeArea3" instance=ExtResource("5_b5f6u")]
position = Vector2(-11, 2)
target_kana_selection = 4

[node name="ExplodeArea4" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(284, -158)

[node name="CheckArea" parent="Area/ExplodeArea4" instance=ExtResource("5_b5f6u")]
position = Vector2(-14, 2)
target_kana_selection = 2

[node name="ExplodeArea5" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(283, -62)

[node name="CheckArea" parent="Area/ExplodeArea5" instance=ExtResource("5_b5f6u")]
position = Vector2(-14, 2)
target_kana_selection = 1

[node name="CheckArea2" parent="Area/ExplodeArea5" instance=ExtResource("5_b5f6u")]
position = Vector2(18, 3)
target_kana_selection = 3

[node name="ExplodeArea6" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(299, -87)
scale_y = 2

[node name="CheckArea" parent="Area/ExplodeArea6" instance=ExtResource("5_b5f6u")]
position = Vector2(3, 28)
target_kana_selection = 3

[node name="ExplodeArea7" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(77, -35)
scale_y = 2

[node name="CheckArea" parent="Area/ExplodeArea7" instance=ExtResource("5_b5f6u")]
position = Vector2(-1, 22)

[node name="ExplodeArea8" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(77, -87)
scale_y = 2

[node name="CheckArea" parent="Area/ExplodeArea8" instance=ExtResource("5_b5f6u")]
position = Vector2(0, -22)
target_kana_selection = 1

[node name="ExplodeArea9" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(157, -205)
scale_x = 7

[node name="CheckArea" parent="Area/ExplodeArea9" instance=ExtResource("5_b5f6u")]
position = Vector2(-77, 1)

[node name="ExplodeArea10" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(154, -158)
scale_x = 7

[node name="CheckArea" parent="Area/ExplodeArea10" instance=ExtResource("5_b5f6u")]
position = Vector2(-75, 1)
target_kana_selection = 4

[node name="ExplodeArea12" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(188, -62)
scale_x = 7

[node name="CheckArea" parent="Area/ExplodeArea12" instance=ExtResource("5_b5f6u")]
position = Vector2(-78, 1)
target_kana_selection = 2

[node name="CheckArea2" parent="Area/ExplodeArea12" instance=ExtResource("5_b5f6u")]
position = Vector2(82, 1)
target_kana_selection = 1

[node name="ExplodeArea11" parent="Area" instance=ExtResource("4_of57s")]
position = Vector2(172, -106)
scale_x = 8

[node name="CheckArea" parent="Area/ExplodeArea11" instance=ExtResource("5_b5f6u")]
position = Vector2(-94, -1)
target_kana_selection = 1

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Reset" type="Button" parent="CanvasLayer"]
offset_right = 316.0
offset_bottom = 156.0
text = "reset"

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 1, 1, 0)

[node name="CanvasAnimationPlayer" type="AnimationPlayer" parent="CanvasLayer"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_p1hux")
}

[connection signal="pressed" from="CanvasLayer/Reset" to="CharacterBody2D" method="_on_reset_pressed"]
